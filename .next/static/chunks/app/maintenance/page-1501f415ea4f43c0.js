(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{2928:function(e,s,n){Promise.resolve().then(n.bind(n,9307))},6837:function(e,s,n){"use strict";var a=n(3827);n(4090),s.Z=()=>(0,a.jsxs)("footer",{className:"footer",children:[(0,a.jsxs)("div",{className:"contactInfo",children:[(0,a.jsx)("div",{children:"Contact us:"}),(0,a.jsxs)("div",{children:["Email: ",(0,a.jsx)("a",{href:"mailto:management@hadi&co.au",children:"management@hadi&co.au"})]}),(0,a.jsx)("div",{children:"Phone: (+61) 987 654 32"})]}),(0,a.jsxs)("div",{className:"officeHours",children:["Office Hours:",(0,a.jsx)("br",{}),"Monday – Friday",(0,a.jsx)("br",{}),"9am – 5pm"]}),(0,a.jsx)("div",{className:"copyright",children:"\xa9 2025 Hadi&Co. All rights reserved."})]})},3141:function(e,s,n){"use strict";var a=n(3827),t=n(4090),i=n(8792),r=n(7907),l=n(1654);s.Z=()=>{let e=(0,r.useRouter)(),[s,n]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let e=async()=>{let{data:{session:e}}=await l.O.auth.getSession();n(!!e)};e();let{data:s}=l.O.auth.onAuthStateChange(()=>{e()});return()=>{null==s||s.subscription.unsubscribe()}},[]);let c=async()=>{try{await l.O.auth.signOut(),localStorage.removeItem("staySignedIn"),setTimeout(()=>{e.replace("/login")},200)}catch(e){alert("Logout failed. Please try again."),console.error("Error during logout:",e)}};return(0,a.jsxs)("nav",{className:"navbar",children:[(0,a.jsxs)(i.default,{href:"/",className:"brand",children:["Hadi",(0,a.jsx)("span",{className:"brand-orange",children:"&Co."})]}),(0,a.jsxs)("div",{className:"navLinks",children:[(0,a.jsx)(i.default,{href:"/notice-board",children:"Notice Board"}),(0,a.jsx)(i.default,{href:"/maintenance",children:"Maintenance"}),(0,a.jsx)(i.default,{href:"/contact",children:"Contact Us"}),!s&&(0,a.jsxs)(i.default,{href:"/login",className:"login-btn",children:[(0,a.jsx)("i",{className:"fas fa-user"}),"Owner's Login"]}),s&&(0,a.jsxs)("button",{onClick:c,className:"logout-btn",children:[(0,a.jsx)("i",{className:"fas fa-sign-out-alt"}),"Logout"]})]})]})}},9307:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return o}});var a=n(3827),t=n(4090);n(2445);var i=n(3141),r=n(6837),l=n(7907),c=n(1654),u=e=>{let{children:s}=e,n=(0,l.useRouter)(),[i,r]=(0,t.useState)(!0),[u,o]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:s}=await c.O.auth.getSession();s||!e?(o(!1),n.push("/login")):o(!0)}catch(e){o(!1),n.push("/login")}finally{r(!1)}})()},[n]),i)?(0,a.jsxs)("div",{className:"loading-container",children:[(0,a.jsx)("div",{className:"loading-spinner"}),(0,a.jsx)("p",{children:"Loading..."})]}):u?(0,a.jsx)(a.Fragment,{children:s}):null},o=()=>{let[e,s]=(0,t.useState)({name:"",unitNumber:"",issueType:"",description:""}),[n,l]=(0,t.useState)([]),[c,o]=(0,t.useState)(!1),[d,m]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=localStorage.getItem("maintenanceRequests");e&&l(JSON.parse(e))},[]);let h=n=>{s({...e,[n.target.name]:n.target.value}),m("")};return(0,a.jsx)(u,{children:(0,a.jsxs)("div",{className:"maintenance-container",children:[(0,a.jsx)(i.Z,{}),(0,a.jsxs)("main",{className:"maintenance-content",children:[(0,a.jsx)("h1",{children:"Maintenance Request"}),(0,a.jsxs)("div",{className:"maintenance-grid",children:[(0,a.jsxs)("div",{className:"maintenance-form-container modern-form",children:[(0,a.jsx)("h2",{className:"form-title",children:"Submit a Request"}),c&&(0,a.jsx)("div",{className:"success-message",children:"Maintenance request submitted successfully!"}),d&&(0,a.jsx)("div",{className:"error-message",children:d}),(0,a.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!e.name||!e.unitNumber||!e.issueType||!e.description){m("Please fill in all fields");return}let t=[...n,{id:Date.now().toString(),name:e.name,unitNumber:e.unitNumber,issueType:e.issueType,description:e.description,status:"Pending",date:new Date().toLocaleDateString()}];l(t),localStorage.setItem("maintenanceRequests",JSON.stringify(t)),o(!0),s({name:"",unitNumber:"",issueType:"",description:""}),setTimeout(()=>{o(!1)},3e3)},className:"maintenance-form",children:[(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"name",children:"Full Name"}),(0,a.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:h,required:!0,placeholder:"Enter your full name"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"unitNumber",children:"Unit Number"}),(0,a.jsx)("input",{type:"text",id:"unitNumber",name:"unitNumber",value:e.unitNumber,onChange:h,required:!0,placeholder:"e.g. A-12"})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"issueType",children:"Issue Type"}),(0,a.jsxs)("select",{id:"issueType",name:"issueType",value:e.issueType,onChange:h,required:!0,children:[(0,a.jsx)("option",{value:"",children:"Select an issue type"}),(0,a.jsx)("option",{value:"plumbing",children:"Plumbing"}),(0,a.jsx)("option",{value:"electrical",children:"Electrical"}),(0,a.jsx)("option",{value:"heating",children:"Heating/Cooling"}),(0,a.jsx)("option",{value:"appliance",children:"Appliance"}),(0,a.jsx)("option",{value:"structural",children:"Structural"}),(0,a.jsx)("option",{value:"pest",children:"Pest Control"}),(0,a.jsx)("option",{value:"other",children:"Other"})]})]}),(0,a.jsxs)("div",{className:"form-group",children:[(0,a.jsx)("label",{htmlFor:"description",children:"Issue Description"}),(0,a.jsx)("textarea",{id:"description",name:"description",value:e.description,onChange:h,required:!0,rows:4,placeholder:"Please describe the issue in detail..."})]}),(0,a.jsx)("button",{type:"submit",className:"submit-button",children:"Submit Request"})]})]}),(0,a.jsxs)("div",{className:"requests-history modern-requests",children:[(0,a.jsx)("h2",{children:"Your Maintenance Requests"}),0===n.length?(0,a.jsx)("div",{className:"no-requests-illustration",children:(0,a.jsxs)("p",{className:"no-requests",children:["No maintenance requests submitted yet.",(0,a.jsx)("br",{}),"Your requests will appear here."]})}):(0,a.jsx)("div",{className:"requests-list",children:n.map(e=>(0,a.jsxs)("div",{className:"request-card modern-card",children:[(0,a.jsxs)("div",{className:"request-header",children:[(0,a.jsx)("div",{className:"request-header-left",children:(0,a.jsx)("span",{className:"request-date",children:e.date})}),(0,a.jsx)("span",{className:"request-status modern-status ".concat(e.status.toLowerCase()),children:e.status})]}),(0,a.jsxs)("div",{className:"request-details",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Unit:"})," ",e.unitNumber]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Issue:"})," ",e.issueType.charAt(0).toUpperCase()+e.issueType.slice(1)]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Description:"})," ",e.description]})]})]},e.id))})]})]})]}),(0,a.jsx)(r.Z,{})]})})}},1654:function(e,s,n){"use strict";n.d(s,{O:function(){return a}});let a=(0,n(1051).eI)("https://rzgynsfiamtogwhcajnt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Z3luc2ZpYW10b2d3aGNham50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU4MzM4NTcsImV4cCI6MjA2MTQwOTg1N30.j-l7GigI5hZLbHwoP8e70JbOTF3XIdeZGFqjgZgVkaw")},2445:function(){}},function(e){e.O(0,[901,51,124,971,69,744],function(){return e(e.s=2928)}),_N_E=e.O()}]);