(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7219:function(e,t,i){Promise.resolve().then(i.bind(i,4338))},8647:function(e,t,i){"use strict";var n=i(3827);i(4090),t.Z=()=>(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"248",height:"99",viewBox:"0 0 248 99",fill:"none",children:[(0,n.jsx)("rect",{x:"8.74377",y:"45.2883",width:"16.6927",height:"52.9786",fill:"black"}),(0,n.jsx)("rect",{x:"41.3342",y:"45.2883",width:"16.6927",height:"52.9786",fill:"black"}),(0,n.jsx)("rect",{x:"9.53867",y:"65.2412",width:"40.5393",height:"11.0085",fill:"black"}),(0,n.jsx)("rect",{width:"48.7366",height:"5.18853",transform:"matrix(0.722121 -0.691767 0.787703 0.616055 0 54.0403)",fill:"black"}),(0,n.jsx)("rect",{width:"46.0942",height:"4.54045",transform:"matrix(0.665711 0.74621 -0.831387 0.555693 35.1963 20.3027)",fill:"black"}),(0,n.jsx)("rect",{width:"6.67874",height:"2.11099",transform:"matrix(0.748125 -0.663558 0.763933 0.645295 29.4109 22.8867)",fill:"#E7EFF9"}),(0,n.jsx)("rect",{width:"6.56056",height:"2.11593",transform:"matrix(0.659607 0.751611 -0.835566 0.54939 36.2528 18.2668)",fill:"#E7EFF9"}),(0,n.jsx)("rect",{width:"0.965659",height:"0.738097",transform:"matrix(0.787033 0.61691 -0.722893 0.69096 8.48218 44.6001)",fill:"#E7EFF9"}),(0,n.jsx)("rect",{width:"1.18894",height:"0.758098",transform:"matrix(0.655314 0.755357 -0.838449 0.544981 57.8677 44.6001)",fill:"#E7EFF9"})]})},4338:function(e,t,i){"use strict";i.r(t);var n=i(3827),r=i(4090);i(2445);var s=i(8647),a=i(8792),o=i(703),l=i(7907),c=i(1654),u=i(9079);let h=()=>{let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[i,h]=(0,r.useState)({email:"",password:"",staySignedIn:!1}),[d,g]=(0,r.useState)(""),[m,f]=(0,r.useState)(!1),[p,x]=(0,r.useState)(!1),[v,j]=(0,r.useState)(!0),[w,y]=(0,r.useState)(!0),b=u.env.NEXT_PUBLIC_ADMIN_USER||"admin",I=u.env.NEXT_PUBLIC_ADMIN_PASSWORD||"password123";(0,r.useEffect)(()=>{let e=setTimeout(()=>{y(!1)},3e3);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=setTimeout(()=>{j(!1)},3e4);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{"true"===t.get("googleSuccess")&&(x(!0),setTimeout(()=>{e.push("/notice-board")},2e3))},[t,e]);let N=async t=>{t.preventDefault(),g(""),f(!0),x(!1);try{let{data:t,error:n}=await c.O.auth.signInWithPassword({email:i.email,password:i.password});n?(g(n.message||"Login failed"),j(!0)):(x(!0),i.staySignedIn&&localStorage.setItem("staySignedIn","true"),setTimeout(()=>{e.push("/notice-board")},2e3))}catch(e){g("An error occurred during login"),j(!0)}finally{f(!1)}},T=e=>{h({...i,[e.target.name]:"checkbox"===e.target.type?e.target.checked:e.target.value})},E=async()=>{g(""),f(!0);let{error:e}=await c.O.auth.signInWithOAuth({provider:"google"});e&&g(e.message),f(!1)};return(0,n.jsxs)("div",{className:"login-container",children:[(0,n.jsx)(a.default,{href:"/",className:"logo-container",children:(0,n.jsx)(s.Z,{})}),(0,n.jsxs)("div",{className:"login-image",children:[(0,n.jsx)(o.default,{src:"/image.png",alt:"Background",fill:!0,className:"login-image",priority:!0,quality:100,sizes:"(max-width: 1024px) 100vw, 40vw",style:{objectFit:"cover"}}),(0,n.jsx)("div",{className:"login-image-overlay"})]}),(0,n.jsxs)("div",{className:"login-form",children:[(0,n.jsxs)("div",{className:"login-header",children:[(0,n.jsx)("h1",{children:"Welcome Back Resident!"}),(0,n.jsx)("p",{children:"Please enter your login details"})]}),d&&(0,n.jsx)("div",{className:"error-message",children:d}),p&&(0,n.jsx)("div",{className:"success-message",children:"Login successful! Redirecting to Notice Board..."}),v&&(0,n.jsxs)("div",{className:"dev-message",children:[(0,n.jsxs)("p",{children:["Login Details",(0,n.jsx)("button",{className:"close-button",onClick:()=>j(!1),children:"\xd7"})]}),(0,n.jsxs)("p",{children:["User ID: ",b]}),(0,n.jsxs)("p",{children:["Password: ",I]})]}),(0,n.jsxs)("form",{onSubmit:N,children:[(0,n.jsx)("label",{children:"Email"}),(0,n.jsx)("input",{type:"email",name:"email",value:i.email,onChange:T,placeholder:"Enter your email",required:!0}),(0,n.jsx)("label",{children:"Password"}),(0,n.jsx)("input",{type:"password",name:"password",value:i.password,onChange:T,placeholder:"Enter your password",required:!0}),(0,n.jsxs)("div",{className:"login-options",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("input",{type:"checkbox",id:"stay-signed-in",name:"staySignedIn",checked:i.staySignedIn,onChange:T}),(0,n.jsx)("label",{htmlFor:"stay-signed-in",children:"Stay signed in"})]}),(0,n.jsx)("a",{href:"#",children:"Forgot Password?"})]}),(0,n.jsx)("button",{type:"submit",className:"login-button",disabled:m||p,children:m?"Logging in...":p?"Redirecting...":"Log In"})]}),(0,n.jsx)("div",{style:{margin:"1.5rem 0 0 0",display:"flex",flexDirection:"column",alignItems:"center"},children:(0,n.jsxs)("button",{type:"button",className:"google-login-btn",onClick:E,disabled:m,children:[(0,n.jsx)("img",{src:"/google.webp",alt:"Google",style:{width:20,height:20,marginRight:10}}),"Sign in with Google"]})}),(0,n.jsxs)("p",{className:"register-link",children:["Don't have an account?"," ",(0,n.jsx)(a.default,{href:"/signup",className:"register-link-text",children:"Sign up here"})]})]})]})};t.default=function(){return(0,n.jsx)(r.Suspense,{fallback:null,children:(0,n.jsx)(h,{})})}},1654:function(e,t,i){"use strict";i.d(t,{O:function(){return n}});let n=(0,i(1051).eI)("https://rzgynsfiamtogwhcajnt.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ6Z3luc2ZpYW10b2d3aGNham50Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU4MzM4NTcsImV4cCI6MjA2MTQwOTg1N30.j-l7GigI5hZLbHwoP8e70JbOTF3XIdeZGFqjgZgVkaw")},9079:function(e,t,i){"use strict";var n,r;e.exports=(null==(n=i.g.process)?void 0:n.env)&&"object"==typeof(null==(r=i.g.process)?void 0:r.env)?i.g.process:i(3127)},3127:function(e){"use strict";!function(){var t={229:function(e){var t,i,n,r=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(i){try{return t.call(null,e,0)}catch(i){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l=[],c=!1,u=-1;function h(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&d())}function d(){if(!c){var e=o(h);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new g(e,t)),1!==l.length||c||o(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw Error("process.chdir is not supported")},r.umask=function(){return 0}}},i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}},a=!0;try{t[e](s,s.exports,n),a=!1}finally{a&&delete i[e]}return s.exports}n.ab="//";var r=n(229);e.exports=r}()},2445:function(){}},function(e){e.O(0,[901,51,703,124,971,69,744],function(){return e(e.s=7219)}),_N_E=e.O()}]);